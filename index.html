<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0"
		<title></title>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}
			body {
				background: #0c0c0c;
				color: #00ff00;
				font-family: 'Courier New', monospace;
				font-size: 16px;
				padding: 20px;
				min-height: 300vh;
			}
			.terminal {
				max-width: 1200px;
				margin: 0 auto;
				background: #1a1a1a;
				border: 2px solid #00ff00;
				padding: 20px;
				box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
			}
			.header {
				color: #00ff00;
				margin-bottom: 20px;
				padding-bottom: 10px;
				border-bottom: 1px solid #00ff00;
			}
			.header h1 {
				font-size:24px;
				margin-bottom: 5px;
			}
			.header .subtitle {
				font-size:14px;
				color: #00aa00;
			}
			.display {
				margin-bottom: 20px;
				min-height: 500px;
				overflow-y: auto;
				overflow-x: hidden;
				height: 500px;
			}
			.input-line {
				display: flex;
				align-items: center;
			}
			.prompt {
				color: #00ff00;
				margin-right: 10px;
			}
			#command-input {
				flex: 1;
				background: transparent;
				border: none;
				color: #00ff00;
				font-family: 'Courier New', monospace;
				font-size: 18px;
				outline: none;
				caret-color: transparent;
				z-index: 1;
				position: relative;
				outline: none;
			}
			
			@keyframes blink {
				0%, 49% { opacity: 1;}
				50%, 100% { opacity: 0;}
			}
			.display-line {
				margin-bottom: 10px;
			}
			.command {
				color: #00ff00;
			}
			.result {
				color: #00dd00;
				margin-left: 20px;
				white-space: pre-wrap;
			}
			.error {
				color: #ff6b6b;
			}
			.cursor {
				position: absolute;
				width: 8px;
				height: 16px;
				background: #00ff00;
				animation: blink 1s infinite;
				pointer-events: none;
			}
		</style>
	</head>
	<body>
		<div class="terminal">
			<!-- header -->
			<div class="header">
				<h1> ARUN RAGHUNATH - Devops/ Engineering Manager Portfolio </h1>
				<div class="subtitle">Type "help" to get started
				</div>
			</div>

			<!-- output area - command results and history is displayed here -->

			<div class="display" id="display">
			
			</div>
			<!-- terminal input where users can type -->
			<div class="input-line">
				<span class="prompt" id="prompt"> visitor@portfolio:~$</span>
				<input type="text" id="command-input" autofocus></input>
				<span class="cursor" id="cursor"></span>
			</div>
				
			</div>
		</div>
		<script>
			const display = document.getElementById("display")
			const userinput = document.getElementById("command-input")

			function printDisplay(cmd, result, isError=false) {
				const div = document.createElement('div');
				div.className = 'display-line';
				
				const cmdDiv = document.createElement('div');
				cmdDiv.className = 'command';
				cmdDiv.textContent = 'visitor@portfolio:~$ ' + cmd;
				div.appendChild(cmdDiv);

				const resultDiv = document.createElement('div');
				resultDiv.className = isError ? 'error' : 'result';
				resultDiv.textContent = result;
				div.appendChild(resultDiv);

				display.appendChild(div);
				display.scrollTop = display.scrollHeight;
				requestAnimationFrame(() => {
				        display.scrollTop = display.scrollHeight;
				    });
				
			}
			
			function processCommand(cmd) {
				cmd = cmd.trim();
				if (!cmd) return;

				if (cmd == "help") {
					const helpText = `Available commands: 

  help 		- Show this help message
  about		- A brief about me
  projects	- A list of projects am working on
  skills	- Summary of the technologies I am proficient on
  contact	- Contact information
  clear		- Clear the terminal
  
Try typing one of these command!`
					printDisplay(cmd, helpText, false);
				}
			}

			document.addEventListener('click', function(){
				userinput.focus();
			});

			userinput.addEventListener('keydown', function(event){
				if (event.key == 'Enter') {
					const cmd = userinput.value;
					processCommand(cmd);
					userinput.value = '';
				}
			});
			window.addEventListener('load', function() {
				const welcomeText = `Welcome to Arun Raghunath's portfolio!;
				
Type 'help' to see what you can do.`;
				printDisplay('', welcomeText, false);
			});

			const prompt = document.getElementById('prompt');
			const cmdinput = document.getElementById('command-input');
			const cursor = document.getElementById('cursor');
			cmdinput.style.caretColor = 'transparent';
			cmdinput.addEventListener('input', positionCursor);
			cmdinput.addEventListener('click', positionCursor);
			cmdinput.addEventListener('keyup', positionCursor);
				
			function positionCursor() {
				const span = document.createElement('span');
				span.style.font = window.getComputedStyle(cmdinput).font;
				span.style.visibility = 'hidden';
				span.textContent = prompt.textContent + cmdinput.value;
				document.body.appendChild(span);
				const textWidth = span.offsetWidth;
				document.body.removeChild(span);

				cursor.style.marginLeft = textWidth + 'px';
			}

			positionCursor();
		</script>
	</body>
</html>
